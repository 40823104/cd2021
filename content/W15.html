<!DOCTYPE html><html>
        <head>
        <title>CMSiMDE</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700,900" rel="stylesheet">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/icomoon/style.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/magnific-popup.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/jquery-ui.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.carousel.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.theme.default.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap-datepicker.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/flaticon/font/flaticon.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/aos.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/style.css">
        <link rel="shortcut icon" href="./../cmsimde/static/favicons.png">
        
        <style type='text/css'>
            .site-section {
            background-color: #FFFF;
            padding: 40px 40px;
            }
            body > div > div.dropdown.open {
                display: block;
            }
        </style>
    
        <!-- <script src="./../cmsimde/static/jquery.js"></script> -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
        <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/normalize.min.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch_set.js"></script>
        <script src="tipuesearch_content.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/tipuesearch.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch.js"></script>
        <script>
            /* original tipuesearch
            $(document).ready(function() {
                 $('#tipue_search_input').tipuesearch();
            });
            */
            // customed doSearch
            function doSearch() {
                $('#tipue_search_input').tipuesearch({
                    newWindow: true, 
                    minimumLength: 2,
                    wholeWords: false, // for search 中文
                });
            }
            $(document).ready(doSearch);
        </script>
        
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushBash.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDiff.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushHaxe.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCSharp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDart.js"></script>
<link type="text/css" rel="stylesheet" href="./../cmsimde/static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<!-- 暫時不用
<script src="./../cmsimde/static/fengari-web.js"></script>
<script type="text/javascript" src="./../cmsimde/static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->
<style>
img.add_border {
    border: 3px solid blue;
}
</style>

</head>
<body>
<div class='container'><nav>
        
    <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    
            <header class="site-navbar py-4 bg-white" role="banner">
              <div class="container-fluid">
                <div class="row align-items-center">
                <h1>cd2021-40823104</h1>
                <div class="pl-4">
                    <form>
                    <input type="text" placeholder="Search" name="q" id="tipue_search_input" pattern=".{2,}" title="At least 2 characters" required>
                    </form>
                </div>
                  <!-- <div class="col-11 col-xl-2">
                    <h1 class="mb-0 site-logo"><a href="index.html" class="text-black h2 mb-0">cd2021-40823104</a></h1> 
                  </div>
                  -->
                  <div class="col-12 col-md-10 d-none d-xl-block">
                    <nav class="site-navigation position-relative text-right" role="navigation">
    <ul class='site-menu js-clone-nav mr-auto d-none d-lg-block'>
                        <li class="active has-children"><a href="index.html">Home</a>
                        <ul class="dropdown">
                            <li><a href="sitemap.html">Site Map</a></li>
                            <li><a href="./../reveal/index.html">reveal</a></li>
                            <li><a href="./../blog/index.html">blog</a></li>
                        </ul>
                      </li>
                     <li><a href='About.html'>About</a><li class='has-children'><a href='W1.html'>W1</a><ul class='dropdown'><li><a href='ssh.html'>ssh</a><li><a href='site404.html'>site404</a><li><a href='leo.html'>leo</a></li></ul><li class='has-children'><a href='Stage1.html'>Stage1</a><ul class='dropdown'><li><a href='W2.html'>W2</a><li><a href='W3.html'>W3</a><li><a href='W4.html'>W4</a></li></ul><li class='has-children'><a href='Stage2.html'>Stage2</a><ul class='dropdown'><li><a href='W5.html'>W5</a><li><a href='W6.html'>W6</a><li><a href='W7.html'>W7</a><li><a href='W8.html'>W8</a><li><a href='W9.html'>W9</a></li></ul><li class='has-children'><a href='Stage3.html'>Stage3</a><ul class='dropdown'><li><a href='先前負責項目.html'>先前負責項目</a><li><a href='小組作業心得.html'>小組作業心得</a><li><a href='W10.html'>W10</a><li><a href='W11.html'>W11</a><li><a href='W12.html'>W12</a><li><a href='W13.html'>W13</a><li><a href='W14.html'>W14</a><li><a href='W15.html'>W15</a></li></ul><li><a href='W16.html'>W16</a><li><a href='coppeliasim.html'>coppeliasim</a></li>
                      </ul>
                </nav>
              </div>
              <div class="d-inline-block d-xl-none ml-md-0 mr-auto py-3" style="position: relative; top: 3px;"><a href="#" class="site-menu-toggle js-menu-toggle text-black"><span class="icon-menu h3"></span></a></div>
              </div>

            </div>
          </div>
          
        </header>
    <div id="tipue_search_content">W14 << <a href='W14.html'>Previous</a> <a href='W16.html'>Next</a> >> W16<br /><h1>W15</h1>
<p>1.<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/YgB6rkckku4" title="YouTube video player" width="560"></iframe></p>
<p>結論 :</p>
<p> <img alt="" height="173" src="./../images/螢幕擷取畫面 2021-06-13 005022.png" width="347"/></p>
<p>老師給的 Lua 程式範例如下:</p>
<div>
<div class="syntaxhighlighter lua" id="highlighter_114896">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
<div class="line number29 index28 alt2">29</div>
<div class="line number30 index29 alt1">30</div>
<div class="line number31 index30 alt2">31</div>
<div class="line number32 index31 alt1">32</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="lua comments">-- The decimal point of number x is rounded to the nth place</code></div>
<div class="line number2 index1 alt1"><code class="lua keyword">function</code> <code class="lua plain">round(x, n)</code></div>
<div class="line number3 index2 alt2"><code class="lua spaces">    </code><code class="lua plain">n = </code><code class="lua functions">math.pow</code><code class="lua plain">(10, n </code><code class="lua keyword">or</code> <code class="lua plain">0)</code></div>
<div class="line number4 index3 alt1"><code class="lua spaces">    </code><code class="lua plain">x = x * n</code></div>
<div class="line number5 index4 alt2"><code class="lua spaces">    </code><code class="lua keyword">if</code> <code class="lua plain">x &gt;= 0 </code><code class="lua keyword">then</code> <code class="lua plain">x = </code><code class="lua functions">math.floor</code><code class="lua plain">(x + 0.5) </code><code class="lua keyword">else</code> <code class="lua plain">x = </code><code class="lua functions">math.ceil</code><code class="lua plain">(x - 0.5) </code><code class="lua keyword">end</code></div>
<div class="line number6 index5 alt1"><code class="lua spaces">    </code><code class="lua keyword">return</code> <code class="lua plain">x / n</code></div>
<div class="line number7 index6 alt2"><code class="lua keyword">end</code></div>
<div class="line number8 index7 alt1"> </div>
<div class="line number9 index8 alt2"><code class="lua comments">-- radian to degree</code></div>
<div class="line number10 index9 alt1"><code class="lua plain">deg = 180/</code><code class="lua functions">math.pi</code></div>
<div class="line number11 index10 alt2"><code class="lua comments">-- link 1 length</code></div>
<div class="line number12 index11 alt1"><code class="lua plain">a1 = 10</code></div>
<div class="line number13 index12 alt2"><code class="lua comments">-- link 2 length</code></div>
<div class="line number14 index13 alt1"><code class="lua plain">a2 = 10</code></div>
<div class="line number15 index14 alt2"><code class="lua comments">-- derivated based upon https://www.youtube.com/watch?v=IKOGwoJ2HLk&amp;t=311s</code></div>
<div class="line number16 index15 alt1"><code class="lua keyword">function</code> <code class="lua plain">ik(x, y)</code></div>
<div class="line number17 index16 alt2"><code class="lua spaces">    </code><code class="lua comments">-- (x, y) need to be located inside the circle with radius a1+a2</code></div>
<div class="line number18 index17 alt1"><code class="lua spaces">    </code><code class="lua keyword">if</code> <code class="lua plain">(x^2 + y^2) &lt;= (a1+ a2)^2 </code><code class="lua keyword">then</code></div>
<div class="line number19 index18 alt2"><code class="lua spaces">        </code><code class="lua plain">q2 = -</code><code class="lua functions">math.acos</code><code class="lua plain">((x^2+y^2-a1^2-a2^2)/(2*a1*a2))</code></div>
<div class="line number20 index19 alt1"><code class="lua spaces">        </code><code class="lua plain">q1 = </code><code class="lua functions">math.atan2</code><code class="lua plain">(y, x) + </code><code class="lua functions">math.atan2</code><code class="lua plain">((a2*</code><code class="lua functions">math.sin</code><code class="lua plain">(q2)), (a1+a2*</code><code class="lua functions">math.cos</code><code class="lua plain">(q2)))</code></div>
<div class="line number21 index20 alt2"><code class="lua spaces">        </code><code class="lua keyword">return</code> <code class="lua plain">{round(q1*deg, 4), round(q2*deg, 4)}</code></div>
<div class="line number22 index21 alt1"><code class="lua spaces">    </code><code class="lua keyword">else</code></div>
<div class="line number23 index22 alt2"><code class="lua spaces">        </code><code class="lua functions">print</code><code class="lua plain">(</code><code class="lua string">"Over range!"</code><code class="lua plain">)</code></div>
<div class="line number24 index23 alt1"><code class="lua spaces">        </code><code class="lua comments">-- end the script execution</code></div>
<div class="line number25 index24 alt2"><code class="lua spaces">        </code><code class="lua functions">os.exit</code><code class="lua plain">()</code></div>
<div class="line number26 index25 alt1"><code class="lua spaces">    </code><code class="lua keyword">end</code></div>
<div class="line number27 index26 alt2"><code class="lua keyword">end</code></div>
<div class="line number28 index27 alt1"> </div>
<div class="line number29 index28 alt2"><code class="lua plain">theta = ik(15, 1)</code></div>
<div class="line number30 index29 alt1"> </div>
<div class="line number31 index30 alt2"><code class="lua functions">print</code><code class="lua plain">(theta[1], theta[2])</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>1--<span>數字 x 的小數點四捨五入到第 n 位</span></p>
<p>9--從弧度轉為度</p>
<p>11--link1的長度</p>
<p>13--<span>link2的長度</span></p>
<p><span>15--基於<a href="https://www.youtube.com/watch?v=IKOGwoJ2HLk&amp;t=311s">https://www.youtube.com/watch?v=IKOGwoJ2HLk&amp;t=311s</a></span></p>
<p><span>17--</span><span class="Y2IQFc" lang="zh-TW">(x, y) 需要位於半徑為 a1+a2 的圓內</span></p>
<p><span class="Y2IQFc" lang="zh-TW">24--結束程式執行</span></p>
<p><br/><span class="Y2IQFc" lang="zh-TW"></span></p>
<p><span class="Y2IQFc" lang="zh-TW"><span></span></span></p>
<p>2.</p>
<p></p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/eIZuz1XCd0w" title="YouTube video player" width="560"></iframe></p>
<p>翻譯如下:</p>
<p>Here we have the same two link robot as we just looked at but this time we're going to solve it using an analytical approach, that is we're going to rely much more on algebra, particular linear algebra rather than geometry.</p>
<p>在這裡，我們有與剛才看到的相同的二連桿機構，但這次我們將使用分析方法來解決它，也就是說，我們將更多地依賴代數，特定的線性代數而不是幾何。</p>
<p><span></span></p>
<p><span> </span>We have an expression E, which is the homogeneous transformation which represents the pose of the robots endefector and we looked at this in the last lecture, we can write the endefector pose as a sequence of elementary homogeneous transformations.</p>
<p>我們有一個表達式<span><span> </span>E</span>，它是表示機械手臂位置的齊次變換，我們在上一課中看過這個，我們可以將機械手臂位置寫為一系列基本齊次變換。</p>
<p><span> </span></p>
<p>A rotation by q1, a translation along the X direction by a1, a rotation by q2 and then a translation in the X direction by a2.</p>
<p><span>q1</span>旋轉，a<span>1</span>沿<span>x</span>方向平移，q<span>2</span>旋轉，然後a<span>2</span>沿<span>x</span>方向平移。</p>
<p><span> </span></p>
<p>If I expand this out, multiply all the transformations together, I get the expression shown here ; a three by three homogeneous transformation matrix representing the pose of the robot's endefector.</p>
<p>如果我將其展開，將所有變換相乘，就會得到此處所示的表達式；一個三乘三的齊次變換矩陣，表示機械手臂的最終位置。</p>
<p><span> </span></p>
<p>Now for this particular two link robot , we are only interested in the position of its endefector , it's X and Y co - ordinate and they are these two elements within the homogeneous transformation matrix , so I'm going to copy those out .</p>
<p>現在對於這個特殊的二連桿機構，我們只對它機械手臂的位置感興趣，它是<span>x</span>和<span>y</span>坐標，它們是齊次變換矩陣中的這兩個元素，所以我將把它們複製出來。</p>
<p><span> </span></p>
<p>So here again is our expression for X and Y and what we're going to do is a fairly common trick , we're going to square and add these two equations and I get a relationship that looks like this .</p>
<p>所以這裡又是我們對<span>x</span>和<span>y</span>的表達式，我們要做的是一個相當常見的技巧，我們要平方並添加這兩個方程，我得到一個看起來像這樣的關係式。</p>
<p><span></span></p>
<p><span> </span>Now I can solve for the joint angle q2 in terms of the endefector pose X and Y and the robot's constants a1 and a2.</p>
<p>現在我可以根據機械手臂位置<span>x</span>和<span>y</span>以及機器人的常數a<span>1</span>和a<span>2</span>來求解節點角度q<span>2</span>。</p>
<p><span> </span></p>
<p>Now what I'm going to do is apply the sum of angles identity .</p>
<p>現在我要做的是應用角度之和的特性。</p>
<p></p>
<p>I'm going to expand these terms, sin of q1 plus q2 or cos of q1 plus q2 and to make life a little bit easier, I'm going to make some substations, so where ever I had cos q2, I'm going to write c2 and where ever I had sine q2, I'm going to write s2.</p>
<p>我將展開這些項，sinq1+q<span>2</span>或<span>cosq1+</span>q<span>2</span>，為了讓生活更輕鬆一點，我將建立一些部份，所以只要有<span>cosq2</span>，我就會去取代c<span>2</span>並且在我有<span>sinq2<span> </span></span>的地方，取代為s<span>2</span>。</p>
<p><span> </span></p>
<p>It's a fairly common shorthand when people are looking at robot kinematic equations. And here are the equations after making those substitutions.</p>
<p>當人們解決機器人運動學方程時，這是一個相當常見的快速記法。這是進行這些替換後的方程式。</p>
<p><span> </span></p>
<p>Looking at these two equations, I can see that they fall into a very well known form and for that form there is a very well known solution.</p>
<p>看看這兩個方程，我可以看到它們屬於一個眾所周知的形式，對於這種形式，有一個眾所周知的解決方案。</p>
<p><span> </span></p>
<p>So I'm going to consider just one of the equations, the equation for Y and using our well known identity and it's solution, I can determine the values for the variables little a, little b and little c and once l've determined those, then I can just write down the solution for q1, which x is the equivalent of theta in this particular case.</p>
<p>所以我將只考慮其中一個方程式<span>Y</span>，使用我們眾所周知的恆等式和它的解，我可以確定變量<span>a</span>、<span>b</span>、<span>c<span> </span></span>的值，一旦我確定了這些，然後我可以寫下q<span>1</span>的解決方案，在這種特殊情況下，<span>x</span>相當於θ。</p>
<p><span> </span></p>
<p>Here again is our expression for q1, copied over from the previous slide and we may remember from earlier in our workings that we determined this particular relationship; X squared plus Y squared is equal to this particular complex expression.</p>
<p>這裡再次是我們對q<span>1</span>的表達式，從上一張幻燈片複製過來，我們可能還記得在我們工作的早期，我們確定了這種特殊關係；<span>X<sup>2+</sup></span><span>Y<sup>2</sup></span>等於這個特定的複雜表達式。</p>
<p><span> </span></p>
<p>So I can substitute that in and do some simplification and I end up with this slightly less complex expression for q1.</p>
<p>因此，我可以將其替換並進行一些簡化，最終得到q1的這個稍微不那麼複雜的表達式。</p>
<p><strong><span> </span></strong></p>
<p>And it is the same expression that I got following the geometric approach in the previous section.</p>
<p>這與我在上一節中遵循幾何方法得到的表達式相同。</p>
<p></p>
<p>結論:</p>
<p><img alt="" height="111" src="./../images/螢幕擷取畫面 2021-06-13 010550.png" width="350"/></p><br />W14 << <a href='W14.html'>Previous</a> <a href='W16.html'>Next</a> >> W16</div>
        
    <!-- footer -->
      <div class="container">
        <div class="row pt-3 mx-auto">
            <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >Colorlib</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
        </div>
      </div>
    <!-- for footer -->
    
        </div> <!-- for site wrap -->
            <!-- <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script> -->
            <script src="../cmsimde/static/chimper/js/jquery-migrate-3.0.1.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery-ui.js"></script>
            <script src="../cmsimde/static/chimper/js/popper.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap.min.js"></script>
            <script src="../cmsimde/static/chimper/js/owl.carousel.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.stellar.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.countdown.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.magnific-popup.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap-datepicker.min.js"></script>
            <script src="../cmsimde/static/chimper/js/aos.js"></script>
            <!--
            <script src="../cmsimde/static/chimper/js/typed.js"></script>
                    <script>
                    var typed = new Typed('.typed-words', {
                    strings: ["Web Apps"," WordPress"," Mobile Apps"],
                    typeSpeed: 80,
                    backSpeed: 80,
                    backDelay: 4000,
                    startDelay: 1000,
                    loop: true,
                    showCursor: true
                    });
                    </script>
            -->
            <script src="../cmsimde/static/chimper/js/main.js"></script>
        
<!-- 啟用 LaTeX equations 編輯 -->
  <!-- <script>
  MathJax = {
    tex: {inlineMath: [['$', '$'], ['\(', '\)']]}
  };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>-->
    </body></html>
        